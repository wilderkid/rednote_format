<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>小红书 Markdown 工具</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div id="background-container"></div>
    <div class="container">
        <header>
            <div class="header-left">
                <h1>RedNote 排版工具</h1>
                <nav id="mode-switcher">
                    <button id="nav-content-btn" class="active">内容制作</button>
                    <button id="nav-cover-btn">封面制作</button>
                </nav>
            </div>
            <div class="theme-switcher">
                <label for="theme-select">选择主题:</label>
                <select id="theme-select">
                    <option value="theme_bg_1">秋叶水彩</option>
                    <option value="theme_bg_2">浅蓝素描</option>
                    <option value="theme_bg_3">粉彩花卉</option>
                    <option value="theme_bg_4">绿植素描</option>
                    <option value="theme_bg_5">米色素描</option>
                    <option value="theme_bg_6">文艺素描</option>
                    <option value="theme_bg_7">清新卡通</option>
                    <option value="theme_github">GitHub 风格</option>
                </select>
                <label for="font-select">选择字体:</label>
                <select id="font-select">
                    <option value="default">默认字体</option>
                    <option value="hanchan">寒蝉黑宋</option>
                    <option value="huiwen">汇文仿宋</option>
                    <option value="jianjia">蒹葭体</option>
                    <option value="pingxian">屏显臻宋</option>
                    <option value="wenjin">文津宋体</option>
                    <option value="xinbi">新笔书</option>
                    <option value="yansui">芫荽</option>
                    <option value="zhiyi">致一宋体</option>
                    <option value="zhuque">朱雀仿宋</option>
                </select>
                <button id="download-btn">下载图片</button>
            </div>
        </header>

        <!-- View for Content Creation -->
        <div id="content-maker-view">
            <main>
                <textarea id="markdown-input" placeholder="在这里输入你的 Markdown..."></textarea>
                <div class="resizer" id="resizer"></div>
                <div id="html-output" class="preview-area"></div>
            </main>
        </div>

        <!-- View for Cover Creation (Initially Hidden) -->
        <div id="cover-maker-view" style="display: none;">
            <main>
                <div class="cover-inputs">
                    <h2>封面设置</h2>
                    
                    <div id="cover-type-switcher">
                        <label><input type="radio" name="cover-type" value="sentence" checked> 一句话封面</label>
                        <label><input type="radio" name="cover-type" value="news"> 新闻列表封面</label>
                    </div>

                    <div id="sentence-inputs">
                        <label for="cover-title-input">标题:</label>
                        <input type="text" id="cover-title-input" placeholder="输入封面主标题">
                        
                        <label for="cover-author-input">作者:</label>
                        <input type="text" id="cover-author-input" placeholder="输入作者名">
                    </div>

                    <div id="news-inputs" style="display: none;">
                        <label for="news-title-input">主标题:</label>
                        <input type="text" id="news-title-input" placeholder="输入新闻主标题">
                        <label for="news-list-input">新闻列表 (每行一条):</label>
                        <textarea id="news-list-input" rows="8" placeholder="输入新闻条目..."></textarea>
                    </div>
                </div>
                <div class="resizer" id="cover-resizer"></div>
                <div id="cover-preview-area" class="preview-area">
                    <!-- Layout for Sentence Cover -->
                    <div id="sentence-layout">
                        <div id="cover-title-output"></div>
                        <div id="cover-author-output"></div>
                    </div>
                    <!-- Layout for News Cover -->
                    <div id="news-layout" style="display: none;">
                        <h2 id="news-title-output"></h2>
                        <ul id="news-list-output"></ul>
                    </div>
                    
                    <img id="cover-qr-code" src="https://api.qrserver.com/v1/create-qr-code/?size=60x60&data=https://github.com" alt="QR Code">
                </div>
            </main>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/dom-to-image-more@3.1.6/dist/dom-to-image-more.min.js"></script>
    <script src="js/main.js"></script>

    <div id="loading-overlay">
        <div class="loading-modal">
            <div class="spinner"></div>
            <p>正在生成图片，请稍候...</p>
        </div>
    </div>
</body>
</html>